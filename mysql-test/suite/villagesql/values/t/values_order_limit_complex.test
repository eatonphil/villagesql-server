# Test VALUES with ORDER BY and LIMIT with COMPLEX type
# Grammar: VALUES ... ORDER BY ... LIMIT ...

--source include/villagesql/install_complex_extension.inc

# Sorting COMPLEX values generated by VALUES
# MySQL generates column_0, column_1, etc. for unnamed VALUE columns
VALUES
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(3.0,4.0)')),
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(1.0,2.0)')),
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(0,0)')),
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(-0,0)')),
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(5.0,6.0)')),
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(0,-0)')),
  ROW(VSQL_COMPLEX.COMPLEX_FROM_STRING('(-0,-0)'))
ORDER BY column_0 DESC LIMIT 3;

--source include/villagesql/uninstall_complex_extension.inc
