CREATE TABLE t_source (
id INT PRIMARY KEY,
real_part DOUBLE,
imag_part DOUBLE
);
INSERT INTO t_source VALUES
(1, 15.0, 20.0),
(2, -0.0, 0.0),
(3, -7.5, -8.5),
(4, 0.0, 0.0),
(5, 22.0, -13.0),
(6, 0.0, -0.0),
(7, -18.0, 9.0),
(8, 3.5, 4.2),
(9, -0.0, -0.0),
(10, 11.5, -12.5),
(11, 0.0, 0.0),
(12, -25.0, -30.0),
(13, 19.0, 21.0),
(14, -0.0, 0.0),
(15, 7.0, -5.0),
(16, -14.0, 16.0),
(17, 0.0, -0.0),
(18, 26.0, 28.0),
(19, -9.5, 11.5),
(20, -0.0, -0.0),
(21, 33.0, -35.0),
(22, 0.0, 0.0),
(23, -22.0, 24.0),
(24, 17.5, 19.5),
(25, 0.0, -0.0),
(26, -31.0, -32.0),
(27, 29.0, 30.0),
(28, -0.0, 0.0),
(29, 12.0, -14.0),
(30, -27.0, 28.0),
(31, 0.0, 0.0),
(32, 34.0, -36.0),
(33, -0.0, -0.0);
CREATE TABLE t_target (
id INT PRIMARY KEY,
val COMPLEX
);
INSERT INTO t_target (id, val)
SELECT id, VSQL_COMPLEX.COMPLEX_FROM_STRING(CONCAT('(', real_part, ',', imag_part, ')')) FROM t_source;
SELECT * FROM t_target ORDER BY id;
id	val
1	(15,20)
2	(0,0)
3	(-7.5,-8.5)
4	(0,0)
5	(22,-13)
6	(0,0)
7	(-18,9)
8	(3.5,4.2)
9	(0,0)
10	(11.5,-12.5)
11	(0,0)
12	(-25,-30)
13	(19,21)
14	(0,0)
15	(7,-5)
16	(-14,16)
17	(0,0)
18	(26,28)
19	(-9.5,11.5)
20	(0,0)
21	(33,-35)
22	(0,0)
23	(-22,24)
24	(17.5,19.5)
25	(0,0)
26	(-31,-32)
27	(29,30)
28	(0,0)
29	(12,-14)
30	(-27,28)
31	(0,0)
32	(34,-36)
33	(0,0)
SELECT * FROM t_target ORDER BY val, id;
id	val
26	(-31,-32)
30	(-27,28)
12	(-25,-30)
23	(-22,24)
7	(-18,9)
16	(-14,16)
19	(-9.5,11.5)
3	(-7.5,-8.5)
2	(0,0)
4	(0,0)
6	(0,0)
9	(0,0)
11	(0,0)
14	(0,0)
17	(0,0)
20	(0,0)
22	(0,0)
25	(0,0)
28	(0,0)
31	(0,0)
33	(0,0)
8	(3.5,4.2)
15	(7,-5)
10	(11.5,-12.5)
29	(12,-14)
1	(15,20)
24	(17.5,19.5)
13	(19,21)
5	(22,-13)
18	(26,28)
27	(29,30)
21	(33,-35)
32	(34,-36)
DROP TABLE t_target;
CREATE TABLE t_source_multi (
id INT PRIMARY KEY,
real_a DOUBLE,
imag_a DOUBLE,
real_b DOUBLE,
imag_b DOUBLE,
real_c DOUBLE,
imag_c DOUBLE
);
INSERT INTO t_source_multi VALUES
(1, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0),
(2, 0.0, 0.0, -0.0, 0.0, 0.0, -0.0),
(3, -7.0, 8.0, 9.0, -10.0, -11.0, -12.0),
(4, 13.5, 14.5, -15.5, 16.5, 17.5, -18.5),
(5, -19.0, -20.0, 21.0, 22.0, -23.0, 24.0),
(6, 0.0, -0.0, 24.0, -25.0, -0.0, 0.0),
(7, 26.0, 27.0, -0.0, -0.0, 28.0, 29.0),
(8, -30.0, 31.0, 32.0, 33.0, 0.0, 0.0),
(9, 34.0, -35.0, 0.0, 0.0, -36.0, -37.0),
(10, -0.0, 0.0, -38.0, 39.0, 40.0, -41.0);
CREATE TABLE t_target_multi (
id INT PRIMARY KEY,
val_a COMPLEX,
val_b COMPLEX,
val_c COMPLEX
);
INSERT INTO t_target_multi (id, val_a, val_b, val_c)
SELECT id,
VSQL_COMPLEX.COMPLEX_FROM_STRING(CONCAT('(', real_a, ',', imag_a, ')')),
VSQL_COMPLEX.COMPLEX_FROM_STRING(CONCAT('(', real_b, ',', imag_b, ')')),
VSQL_COMPLEX.COMPLEX_FROM_STRING(CONCAT('(', real_c, ',', imag_c, ')'))
FROM t_source_multi;
SELECT * FROM t_target_multi ORDER BY id;
id	val_a	val_b	val_c
1	(1,2)	(3,4)	(5,6)
2	(0,0)	(0,0)	(0,0)
3	(-7,8)	(9,-10)	(-11,-12)
4	(13.5,14.5)	(-15.5,16.5)	(17.5,-18.5)
5	(-19,-20)	(21,22)	(-23,24)
6	(0,0)	(24,-25)	(0,0)
7	(26,27)	(0,0)	(28,29)
8	(-30,31)	(32,33)	(0,0)
9	(34,-35)	(0,0)	(-36,-37)
10	(0,0)	(-38,39)	(40,-41)
SELECT * FROM t_target_multi ORDER BY val_a, val_b;
id	val_a	val_b	val_c
8	(-30,31)	(32,33)	(0,0)
5	(-19,-20)	(21,22)	(-23,24)
3	(-7,8)	(9,-10)	(-11,-12)
10	(0,0)	(-38,39)	(40,-41)
2	(0,0)	(0,0)	(0,0)
6	(0,0)	(24,-25)	(0,0)
1	(1,2)	(3,4)	(5,6)
4	(13.5,14.5)	(-15.5,16.5)	(17.5,-18.5)
7	(26,27)	(0,0)	(28,29)
9	(34,-35)	(0,0)	(-36,-37)
SELECT * FROM t_target_multi ORDER BY val_b, val_c;
id	val_a	val_b	val_c
10	(0,0)	(-38,39)	(40,-41)
4	(13.5,14.5)	(-15.5,16.5)	(17.5,-18.5)
9	(34,-35)	(0,0)	(-36,-37)
2	(0,0)	(0,0)	(0,0)
7	(26,27)	(0,0)	(28,29)
1	(1,2)	(3,4)	(5,6)
3	(-7,8)	(9,-10)	(-11,-12)
5	(-19,-20)	(21,22)	(-23,24)
6	(0,0)	(24,-25)	(0,0)
8	(-30,31)	(32,33)	(0,0)
DROP TABLE t_source;
DROP TABLE t_source_multi;
DROP TABLE t_target_multi;
