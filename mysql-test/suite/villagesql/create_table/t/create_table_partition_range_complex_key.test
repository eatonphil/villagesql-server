# Test CREATE TABLE with RANGE partitioning using COMPLEX expression as partition key
# Tests that COMPLEX custom type gives proper error when used in RANGE partition expression
# NOTE: COMPLEX functions like REAL() haven't been implemented yet.
# Currently gives ERROR 1064 syntax error instead of recognizing REAL() as valid COMPLEX function

--source include/villagesql/not_implemented_complex_type.inc

--source include/villagesql/install_complex_extension.inc
--source include/villagesql/binlog_check_begin.inc

CREATE TABLE t1 (
    id INT,
    value COMPLEX
) PARTITION BY RANGE(REAL(value)) (
    PARTITION p0 VALUES LESS THAN (10.0),
    PARTITION p1 VALUES LESS THAN (20.0),
    PARTITION p2 VALUES LESS THAN MAXVALUE
);

SHOW CREATE TABLE t1;

DROP TABLE t1;

--source include/villagesql/binlog_check_end.inc
--source include/villagesql/uninstall_complex_extension.inc
