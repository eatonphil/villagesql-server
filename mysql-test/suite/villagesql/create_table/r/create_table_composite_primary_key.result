CREATE TABLE composite_pk_table (
device_id INT,
timestamp_val BIGINT,
signal_complex COMPLEX,
amplitude DOUBLE,
complex_id COMPLEX,
PRIMARY KEY (device_id, complex_id, timestamp_val)
);
SHOW COLUMNS FROM composite_pk_table;
Field	Type	Null	Key	Default	Extra
device_id	int	NO	PRI	NULL	
timestamp_val	bigint	NO	PRI	NULL	
signal_complex	vsql_complex.COMPLEX	YES		NULL	
amplitude	double	YES		NULL	
complex_id	vsql_complex.COMPLEX	NO	PRI	NULL	
INSERT INTO composite_pk_table VALUES (1, 1000, '(37.0,38.0)', 5.2, '(0,1)');
INSERT INTO composite_pk_table VALUES (1, 1001, '(39.0,40.0)', 6.1, '(1,0)');
INSERT INTO composite_pk_table VALUES (2, 1000, '(41.0,42.0)', 7.3, '(0,0)');
SELECT * FROM composite_pk_table ORDER BY device_id, signal_complex, timestamp_val;
device_id	timestamp_val	signal_complex	amplitude	complex_id
1	1000	(37,38)	5.2	(0,1)
1	1001	(39,40)	6.1	(1,0)
2	1000	(41,42)	7.3	(0,0)
INSERT INTO composite_pk_table VALUES (1, 1000, '(43.0,44.0)', 8.4, '(0,1)');
ERROR 23000: Duplicate entry '1-(0,1)-1000' for key 'composite_pk_table.PRIMARY'
SELECT * FROM composite_pk_table ORDER BY device_id, signal_complex, timestamp_val;
device_id	timestamp_val	signal_complex	amplitude	complex_id
1	1000	(37,38)	5.2	(0,1)
1	1001	(39,40)	6.1	(1,0)
2	1000	(41,42)	7.3	(0,0)
DROP TABLE composite_pk_table;
include/rpl/deprecated/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
#	#	Query	#	#	use `test`; CREATE TABLE `composite_pk_table` (
  `device_id` int NOT NULL,
  `timestamp_val` bigint NOT NULL,
  `signal_complex` vsql_complex.COMPLEX DEFAULT NULL,
  `amplitude` double DEFAULT NULL,
  `complex_id` vsql_complex.COMPLEX NOT NULL,
  PRIMARY KEY (`device_id`,`complex_id`,`timestamp_val`)
)
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.composite_pk_table)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.composite_pk_table)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.composite_pk_table)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	use `test`; DROP TABLE `composite_pk_table` /* generated by server */
