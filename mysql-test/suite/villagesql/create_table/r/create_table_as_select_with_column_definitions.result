CREATE TABLE raw_data (
sensor_id INT,
reading COMPLEX,
quality DOUBLE
);
INSERT INTO raw_data VALUES (1, '(21.0,22.0)', 0.95);
INSERT INTO raw_data VALUES (2, '(23.0,24.0)', 0.87);
CREATE TABLE processed_data (
id INT PRIMARY KEY AUTO_INCREMENT,
sensor_id INT NOT NULL,
complex_reading COMPLEX,
quality_score DOUBLE DEFAULT 0.0,
INDEX idx_sensor (sensor_id)
) AS SELECT sensor_id, reading, quality FROM raw_data;
SHOW COLUMNS FROM processed_data;
Field	Type	Null	Key	Default	Extra
id	int	NO	PRI	NULL	auto_increment
complex_reading	vsql_complex.COMPLEX	YES		NULL	
quality_score	double	YES		0	
sensor_id	int	NO	MUL	NULL	
reading	vsql_complex.COMPLEX	YES		NULL	
quality	double	YES		NULL	
INSERT INTO processed_data (sensor_id, complex_reading, quality_score)
VALUES (3, '(25.0,26.0)', 0.92);
SELECT * FROM processed_data;
id	complex_reading	quality_score	sensor_id	reading	quality
1	NULL	0	1	(21,22)	0.95
2	NULL	0	2	(23,24)	0.87
4	(25,26)	0.92	3	NULL	NULL
DROP TABLE processed_data;
DROP TABLE raw_data;
include/rpl/deprecated/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
#	#	Query	#	#	use `test`; CREATE TABLE `raw_data` (
  `sensor_id` int DEFAULT NULL,
  `reading` vsql_complex.COMPLEX DEFAULT NULL,
  `quality` double DEFAULT NULL
)
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.raw_data)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.raw_data)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	BEGIN
#	#	Query	#	#	use `test`; CREATE TABLE `processed_data` (
  `id` int NOT NULL AUTO_INCREMENT,
  `complex_reading` vsql_complex.COMPLEX DEFAULT NULL,
  `quality_score` double DEFAULT '0',
  `sensor_id` int NOT NULL,
  `reading` vsql_complex.COMPLEX DEFAULT NULL,
  `quality` double DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_sensor` (`sensor_id`)
) START TRANSACTION
#	#	Table_map	#	#	table_id: # (test.processed_data)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.processed_data)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	use `test`; DROP TABLE `processed_data` /* generated by server */
#	#	Query	#	#	use `test`; DROP TABLE `raw_data` /* generated by server */
