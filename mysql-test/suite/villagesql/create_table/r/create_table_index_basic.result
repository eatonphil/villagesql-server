CREATE TABLE t1 (
id INT PRIMARY KEY,
complex_value COMPLEX,
INDEX idx_complex (complex_value)
);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
id	int	NO	PRI	NULL	
complex_value	vsql_complex.COMPLEX	YES	MUL	NULL	
INSERT INTO t1 VALUES
(10, '(-0,-0)'),
(1, '(1,-0)'),
(17, '(0,0)'),
(333, '(0,1)'),
(14, '(-1.0,-1.0)');
EXPLAIN SELECT * FROM t1 WHERE complex_value <= '(0,0)' ORDER BY id;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	NULL	range	idx_complex	idx_complex	19	NULL	3	100.00	Using where; Using index; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`id` AS `id`,`test`.`t1`.`complex_value` AS `complex_value` from `test`.`t1` where (`test`.`t1`.`complex_value` <= '(0,0)') order by `test`.`t1`.`id`
SELECT * FROM t1 WHERE complex_value <= '(0,0)' ORDER BY id;
id	complex_value
10	(0,0)
14	(-1,-1)
17	(0,0)
CREATE TABLE t2 (
id INT PRIMARY KEY,
complex_data COMPLEX,
KEY key_complex (complex_data)
);
SHOW COLUMNS FROM t2;
Field	Type	Null	Key	Default	Extra
id	int	NO	PRI	NULL	
complex_data	vsql_complex.COMPLEX	YES	MUL	NULL	
INSERT INTO t2 VALUES
(-10, '(0,0)'),
(-1, '(-1,0)'),
(-17, '(-0,-0)'),
(-333, '(-0,-1)'),
(-14, '(1.0,1.0)');
EXPLAIN SELECT * FROM t2 WHERE complex_data <= '(0,0)' ORDER BY id;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	NULL	range	key_complex	key_complex	19	NULL	4	100.00	Using where; Using index; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t2`.`id` AS `id`,`test`.`t2`.`complex_data` AS `complex_data` from `test`.`t2` where (`test`.`t2`.`complex_data` <= '(0,0)') order by `test`.`t2`.`id`
SELECT * FROM t2 WHERE complex_data <= '(0,0)' ORDER BY id;
id	complex_data
-333	(0,-1)
-17	(0,0)
-10	(0,0)
-1	(-1,0)
CREATE TABLE indexed_table (
id INT PRIMARY KEY,
complex_value COMPLEX,
magnitude DOUBLE,
category VARCHAR(50),
# Index non-complex columns only
INDEX idx_magnitude (magnitude),
KEY key_category (category)
);
SHOW COLUMNS FROM indexed_table;
Field	Type	Null	Key	Default	Extra
id	int	NO	PRI	NULL	
complex_value	vsql_complex.COMPLEX	YES		NULL	
magnitude	double	YES	MUL	NULL	
category	varchar(50)	YES	MUL	NULL	
INSERT INTO indexed_table VALUES (1, '(117.0,118.0)', 5.2, 'type_a');
INSERT INTO indexed_table VALUES (2, '(119.0,120.0)', 8.7, 'type_b');
SELECT * FROM indexed_table;
id	complex_value	magnitude	category
1	(117,118)	5.2	type_a
2	(119,120)	8.7	type_b
EXPLAIN SELECT * FROM indexed_table WHERE magnitude > 4.0;
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	indexed_table	NULL	range	idx_magnitude	idx_magnitude	9	NULL	2	100.00	Using index condition
Warnings:
Note	1003	/* select#1 */ select `test`.`indexed_table`.`id` AS `id`,`test`.`indexed_table`.`complex_value` AS `complex_value`,`test`.`indexed_table`.`magnitude` AS `magnitude`,`test`.`indexed_table`.`category` AS `category` from `test`.`indexed_table` where (`test`.`indexed_table`.`magnitude` > 4)
SELECT * FROM indexed_table WHERE magnitude > 4.0;
id	complex_value	magnitude	category
1	(117,118)	5.2	type_a
2	(119,120)	8.7	type_b
DROP TABLE indexed_table;
DROP TABLE t2;
DROP TABLE t1;
include/rpl/deprecated/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
#	#	Query	#	#	use `test`; CREATE TABLE `t1` (
  `id` int NOT NULL,
  `complex_value` vsql_complex.COMPLEX DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_complex` (`complex_value`)
)
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.t1)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	use `test`; CREATE TABLE `t2` (
  `id` int NOT NULL,
  `complex_data` vsql_complex.COMPLEX DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `key_complex` (`complex_data`)
)
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.t2)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	use `test`; CREATE TABLE `indexed_table` (
  `id` int NOT NULL,
  `complex_value` vsql_complex.COMPLEX DEFAULT NULL,
  `magnitude` double DEFAULT NULL,
  `category` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_magnitude` (`magnitude`),
  KEY `key_category` (`category`)
)
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.indexed_table)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.indexed_table)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	use `test`; DROP TABLE `indexed_table` /* generated by server */
#	#	Query	#	#	use `test`; DROP TABLE `t2` /* generated by server */
#	#	Query	#	#	use `test`; DROP TABLE `t1` /* generated by server */
