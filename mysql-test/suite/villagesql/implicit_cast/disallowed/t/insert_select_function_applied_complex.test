# Test INSERT...SELECT with function applied to COMPLEX

--source include/villagesql/not_implemented_complex_type.inc
--source include/villagesql/install_complex_extension.inc

CREATE TABLE t_complex (id INT PRIMARY KEY, val COMPLEX NOT NULL);
CREATE TABLE t_complex_nullable (id INT, val COMPLEX NULL);

INSERT INTO t_complex VALUES (2, '(2.0,3.0)');
INSERT INTO t_complex_nullable SELECT id + 10, UPPER(val) FROM t_complex;

DROP TABLE t_complex;
DROP TABLE t_complex_nullable;

--source include/villagesql/uninstall_complex_extension.inc
