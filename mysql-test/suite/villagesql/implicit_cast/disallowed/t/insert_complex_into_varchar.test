# Test INSERT with COMPLEX value into VARCHAR field

--source include/villagesql/install_complex_extension.inc

CREATE TABLE t_mixed (id INT, complex_val COMPLEX, string_val VARCHAR(100), int_val INT);

INSERT INTO t_mixed VALUES (1, '(1.0,1.0)', 'test', 100);
--error ER_VILLAGESQL_GENERIC_ERROR
UPDATE t_mixed SET string_val = complex_val WHERE id = 1;

DROP TABLE t_mixed;

--source include/villagesql/uninstall_complex_extension.inc
