# Test LOAD DATA with invalid COMPLEX values

--source include/villagesql/not_implemented_complex_type.inc
--source include/villagesql/install_complex_extension.inc

CREATE TABLE t_complex (id INT PRIMARY KEY, val COMPLEX NOT NULL);

--let $MYSQLD_DATADIR= `SELECT @@datadir`
--write_file $MYSQLD_DATADIR/test_complex_invalid.txt
1	invalid_complex_1
2	another_invalid_value
3	123.456
EOF

LOAD DATA INFILE 'test_complex_invalid.txt' INTO TABLE t_complex;

DROP TABLE t_complex;

--source include/villagesql/uninstall_complex_extension.inc
