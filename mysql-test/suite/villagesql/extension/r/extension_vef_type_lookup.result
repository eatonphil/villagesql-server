# Test VEF encode function lookup for COMPLEX3 type
call mtr.add_suppression("Orphaned expansion directory found but not removed");
# restart: --veb-dir=MYSQLTEST_VARDIR/veb
# Create test extension with COMPLEX3 type and VEF functions (uses VEF registration)
Creating extension complex3_ext using SDK...
Created complex3_ext.veb
# Install extension
INSTALL EXTENSION complex3_ext;
# Verify extension installed
SELECT extension_name, extension_version FROM INFORMATION_SCHEMA.EXTENSIONS ORDER BY extension_name;
EXTENSION_NAME	EXTENSION_VERSION
complex3_ext	1.0.0
# Create table with COMPLEX3 column
CREATE TABLE test_complex3 (id INT, val COMPLEX3);
# Insert data - this should call the COMPLEX_FROM_STRING function via VEF lookup
INSERT INTO test_complex3 VALUES (1, '(1.0,2.0)');
# Verify data was stored and can be read back
SELECT id, val FROM test_complex3;
id	val
1	(0,0)
# Cleanup
DROP TABLE test_complex3;
UNINSTALL EXTENSION complex3_ext;
include/rpl/deprecated/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
#	#	Query	#	#	use `test`; CREATE TABLE `test_complex3` (
  `id` int DEFAULT NULL,
  `val` complex3_ext.COMPLEX3 DEFAULT NULL
)
#	#	Query	#	#	BEGIN
#	#	Table_map	#	#	table_id: # (test.test_complex3)
#	#	Write_rows	#	#	table_id: # flags: STMT_END_F
#	#	Xid	#	#	COMMIT /* XID */
#	#	Query	#	#	use `test`; DROP TABLE `test_complex3` /* generated by server */
