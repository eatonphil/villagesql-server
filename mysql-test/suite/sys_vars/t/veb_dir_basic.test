# Test veb_dir system variable

--echo # Test VEB Directory System Variable
--echo # This test verifies that the veb_dir system variable works correctly

--echo # Test 1: Check that the variable exists and is readable
--replace_result $MYSQLTEST_VARDIR MYSQLTEST_VARDIR
SHOW VARIABLES LIKE 'veb_dir';

--replace_result $MYSQLTEST_VARDIR MYSQLTEST_VARDIR
SELECT @@GLOBAL.veb_dir AS veb_directory;

--echo # Test 2: Verify the variable is READ_ONLY
--error ER_INCORRECT_GLOBAL_LOCAL_VAR
SET GLOBAL veb_dir = '/tmp/veb';

--error ER_INCORRECT_GLOBAL_LOCAL_VAR
SET SESSION veb_dir = '/tmp/veb';
